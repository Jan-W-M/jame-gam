[gd_scene load_steps=6 format=3 uid="uid://fhvxvuig6kg"]

[ext_resource type="Script" path="res://player/player.gd" id="1_ployj"]
[ext_resource type="PackedScene" uid="uid://ccto4e0kqxahm" path="res://player/tiplouf_3.tscn" id="2_ua6an"]
[ext_resource type="Script" path="res://player/roatate_player.gd" id="3_ije4h"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_1s0ig"]
points = PackedVector3Array(13.5701, 15.0903, 1.43025, -15.3777, -1.6695, 1.43025, 7.47394, -29.0903, 3.71581, 7.47394, -29.0903, -5.42645, 2.90104, 15.0903, -6.18865, -7.75838, -27.5632, -5.42645, 2.90104, 15.0903, 4.47801, 15.0933, -1.6695, -6.18865, -7.75838, -27.5632, 3.71581, 15.0933, -1.6695, 4.47801, 11.2836, -27.5632, -3.14088, 17.3766, 11.2774, -3.14088, -13.0913, -1.6695, -5.42645, -13.0913, -1.6695, 3.71581, 17.3766, -1.6695, 1.43025, 2.90104, 17.3762, -3.14088, 11.2836, -27.5632, 1.43025, -9.28482, -27.5632, -3.14088, 17.3766, 11.2774, 1.43025, -13, 2.11316, -2.80905, 2.90104, 17.3762, 1.43025, -5.47193, -29.0903, 3.71581, -3.19189, 4.42455, 4.47801, 9.00038, 15.0903, -5.42645, -3.19189, 4.42455, -6.18865, 9.76039, 15.0903, 3.71581, -5.47193, -29.0903, -5.42645, -9.28482, -27.5632, 1.43025, -13, 2.11316, 1.09841, 14.0866, 7.85368, -5.8077, 13.5701, 15.0903, -3.14088, 13.8298, 7.56226, 3.9999)

[sub_resource type="BoxShape3D" id="BoxShape3D_7dbur"]
size = Vector3(5, 3, 5)

[node name="Player" type="RigidBody3D"]
lock_rotation = true
linear_damp = 1.0
script = ExtResource("1_ployj")

[node name="tiplouf3" parent="." instance=ExtResource("2_ua6an")]
transform = Transform3D(0.03, 0, 0, 0, 0.03, 0, 0, 0, 0.03, 0, 0, 0)
script = ExtResource("3_ije4h")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.03, 0, 0, 0, 0.03, 0, 0, 0, 0.03, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_1s0ig")

[node name="TwistPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="PitchPivot" type="Node3D" parent="TwistPivot"]
transform = Transform3D(1, 0, 0, 0, 0.984808, 0.173648, 0, -0.173648, 0.984808, 0, 0, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="TwistPivot/PitchPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 2.98023e-08, 0, -2.98023e-08, 1, 0, -0.0694591, 0.393923)
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="TwistPivot/PitchPivot/SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 1.49012e-08, 0, -1.49012e-08, 1, 0, 0, 0)

[node name="DashTimer" type="Timer" parent="."]

[node name="IsOnFloor" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.9, 0)

[node name="is_on_floor" type="CollisionShape3D" parent="IsOnFloor"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)
shape = SubResource("BoxShape3D_7dbur")

[connection signal="timeout" from="DashTimer" to="." method="_on_dash_timer_timeout"]
[connection signal="body_entered" from="IsOnFloor" to="." method="_on_is_on_floor_body_entered"]
[connection signal="body_exited" from="IsOnFloor" to="." method="_on_is_on_floor_body_exited"]
